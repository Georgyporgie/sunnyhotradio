<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HGPPL3SXDS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HGPPL3SXDS');
</script>










<title> Sunny Danceradio</title>
   <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
 <meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Load FontAwesome icons -->
  <link rel="stylesheet"
        href=
"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
 
  <!-- Load the custom CSS style file -->
  <link rel="stylesheet" type="text/css" href="style2.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<style type="text/css">
  
 










 <style>
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}

.top-container {
  background-color: #f1f1f1;
  padding: 30px;
  text-align: center;
}

.header {
  padding: 10px 16px;
  color: #f1f1f1;
}

.content {
  padding: 16px;
}

.sticky {
  position: fixed;
  top: 0; z-index: 1;
  width: 100%;
}

.sticky + .content {
  padding-top: 102px;
}












</style>
<!-- Load an icon library to show a hamburger menu (bars) on small screens -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Top Navigation Menu -->
<div class="topnav" id="myHeader" >
  <h1 class="header" > <a href="#home" class="active"><img id= "logo"><img id= "dion">

</a> </h1>
  <!-- Navigation links (hidden by default) -->
  <div id="myLinks">
    
  <a href="https://sunnyhotradio.com/Index.html">HOME<img id= "dwarf"></a>

    <a href="https://sunnyrockradio.com/Index.html">SUNNY <em>ROCK</em> RADIO<img id= "lin"></a>
  <a href="https://sunnyjazzradio.com/Index.html">SUNNY <em>JAZZ</em> RADIO<img id= "linger"></a>



</div>
  

















  <!-- "Hamburger menu" / "Bar icon" to toggle the navigation links -->
  <a href="javascript:void(0);" class="icon" onclick="myFunction1()">
    <div class="btn">
        <span class="fas fa-bars"></span>
    </div>
 
 </a>
</div>

</head>


<body>
<div class = "arrow">
<br>
<br>
<br>
<br>




<div id="now"></div>



<br>
<br>
<br>
<br>
<br>
<br>
<br>








<div class="player">
 
    <!-- Define the section for displaying details -->
    <div class="details">
      <div class="now-playing">PLAYING x OF y</div>
      <div class="track-art"></div>
      <div class="track-name">Track Name</div>
      <div class="track-artist">Track Artist</div>
    </div>

 

 <!-- Define the section for displaying track buttons -->
    <div class="buttons">
    
      <div class="playpause-track" onclick="playpauseTrack()">
        <br>
<img id= "media">
      </div>
     
    </div>
<br>

 <!-- Define the section for displaying the seek slider-->
    <div class="slider_container">
      <div class="current-time"><strong>00:00</strong></div>
      <input type="range" min="1" max="100"
        value="0" class="seek_slider" >
      <div class="total-duration"><strong>00:00</strong></div>
    </div>
 
    <!-- Define the section for displaying the volume slider-->
    <div class="slider_container">
      <i class="fa fa-volume-down"></i>
      <input type="range" min="1" max="100"
        value="99" class="volume_slider" onchange="setVolume()">
 
     <img id= "medio">
</div>
  
<br>
<br>




<img id= "astro">

</div>



<div>
 

  


 <img id="myImage" src="images/jazzradio1.png" alt="Dance Radio">

    

</div>






















<br>
<p id="message"></p>
</div>


<div id="clock-flash"></div>

<script>
function getClockEmoji(hour) {
  const h = hour % 12 === 0 ? 12 : hour % 12;
  const map = {
    1: "ðŸ•", 2: "ðŸ•‘", 3: "ðŸ•’", 4: "ðŸ•“", 5: "ðŸ•”", 6: "ðŸ••",
    7: "ðŸ•–", 8: "ðŸ•—", 9: "ðŸ•˜", 10: "ðŸ•™", 11: "ðŸ•š", 12: "ðŸ•›"
  };
  return map[h] || "ðŸ•°ï¸";
}

function flashClock(hour) {
  const flashEl = document.getElementById("clock-flash");
  flashEl.textContent = getClockEmoji(hour);
  flashEl.classList.add("show");

  setTimeout(() => {
    flashEl.classList.remove("show");
  }, 3000); // visible for 3s
}


function scheduleHourlyFlash() {
  const now = new Date();
  const nextHour = new Date(now);
  nextHour.setHours(now.getHours() + 1, 0, 0, 0);
  const delay = nextHour - now;

  setTimeout(() => {
    triggerFlash();
    setInterval(triggerFlash, 3600000); // every hour
  }, delay);
}

function triggerFlash() {
  const hour = new Date().getHours();
  flashClock(hour);
  console.log(`${getClockEmoji(hour)} DJ Brain: It's ${hour}:00 sharp!`);
}

// Kick it off
document.addEventListener("DOMContentLoaded", scheduleHourlyFlash);
</script>


<br>
<br>
<br>



<br>
<br>

<div>

<br><img id="record">
<h5 class= "inch"><em> Todays Hotlist</em></h5><br><img id="rec">
<br>
<br>
<img id= "playlist">

<ul id="track-list-container">





</ul>



  <button id="show-more-button">show more</button>
<br>
<br>
<br>
<br>
<br>
<br>
  

<div>
<IFRAME id="frame" SRC="https://gasts.netlify.app/gasts" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=345 HEIGHT=382></IFRAME>
<br>
</div>

<br>
<br>

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

<h5 id="events">
<script>
  fetch('event.json')
  .then(response => response.json())
  .then(data => {
    const now = new Date();
    const todayName = now.toLocaleDateString('en-US', { weekday: 'long' });
    const events = data.schedule[todayName];

    if (events) {
      let eventsHTML = '<em><br><u>Upcoming Events</u></em><br><br>' + todayName + ':<br><br>';

      events.forEach(event => {
        const [start, end] = event.time.split(' - ');
        const startTime = new Date(now.toDateString() + ' ' + start);
        const endTime = new Date(now.toDateString() + ' ' + end);

        const isCurrent = now >= startTime && now <= endTime;
        const glowClass = isCurrent ? 'glow' : '';

        eventsHTML += `<div class="${glowClass}">${event.time}: <br><em>${event.event}</em><br><br></div>`;
      });

      document.getElementById('events').innerHTML = eventsHTML;
    } else {
      document.getElementById('events').innerHTML = '<em>Weekend events only! Come back Saturday.</em>';
    }
  })
  .catch(error => console.error('Error loading events:', error));

</script>

</h5>

<img id= "miss"> 

<br>
<br>
<br>
<br>




<br>
<div>
<br><img id="stopw">

<h5 id="stop" class="inch">00:00   
 </h5><br><img id="stopwa">
</div>
<br>
<br>

<br>
<img id= "hero-image">
<IFRAME  class= "ship" SRC="https://shiphornn.netlify.app/treasuree" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0  WIDTH=356 HEIGHT=250></IFRAME>
<br>
<br>
<br>
<br>

 <div>
<h5 class="inch"><em>Leave A Message!</em></h5>
<br>
<IFRAME class="weather" SRC="subm.html" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=300 HEIGHT=556></IFRAME>

</div>
<br>
<br>
<br>
<br>
<br>
<br>

<div>
<br><img id="sunnyr">
<h5 id="time"> </h5><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>



<div>
<h5 class="inch"><em>Weather Forecast</em></h5>
<br>

<IFRAME class="weather" SRC="buien.html" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=256 HEIGHT=506></IFRAME>
</div>
<br>
 <br>
<br>
<br>



<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<div>
<br>
<img id="alex"><h5 class="inch"><em>Users Online:</em></h5>








<br>

<IFRAME id="chat" SRC="https://gasts1.netlify.app/sfeer" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=350 HEIGHT=656></IFRAME>

<br>






 </div>


<div>
<h5 class="inch"><em>Sunny Dance<span class="dark"> Radio</span> Stars</em></h5>
 <br>
<br>
<img id="ion">



<IFRAME id="stars" SRC="https://dancestars.netlify.app/dancestars" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=350 HEIGHT=910></IFRAME>



</div>





<br>
<br>
<br>

<br>




 <div>
<h5 class="inch"><em>Amsterdam Nightlife</em></h5>
<iframe class= "frame" src="https://www.uitzinnig.nl"></iframe>
</div>
 <br>
<br>
<br>
<br>
 <br> 


<div>
<h5 class="inch"><em><span id= "play">play </span> Find The Treasure</em></h5>
<IFRAME id="cata" SRC="https://catac.netlify.app/catac" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=340 HEIGHT=706></IFRAME>
</div>
 <br>
<br>
<br>
<br>
 <br> 





<div>
<h5 class="inch"><em>Countdown Timer</em></h5>



<IFRAME class="weather" SRC="https://countdownseason.netlify.app/countdown" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=345 HEIGHT=556></IFRAME>
</div>

<br>
<br>
<br>

 



















<script>

window.addEventListener("load", function () {
  const clock = document.getElementById("stop");
  let time = -1; // Initialize time
  function incrementTime() {
    time++;
    clock.textContent =
      ("0" + Math.trunc(time / 60)).slice(-2) + ":" + ("0" + (time % 60)).slice(-2);
  }
  incrementTime(); // Initialize display
  setInterval(incrementTime, 1000); // Update every second
});

</script>








<script>


function startTime() {
    const today = new Date();
    let h = today.getHours();
    let m = today.getMinutes();
    let s = today.getSeconds();
  
    m = checkTime(m);
    s = checkTime(s);

    // Update time display
    document.getElementById("time").innerHTML = "Sunny Time: " + h + ":" + m + ":" + s;
}

// Function to format numbers below 10
function checkTime(i) {
    return i < 10 ? "0" + i : i;
}

// Start the clock and update every second
window.setInterval(startTime, 1000);


</script>
















  
























 




















<script>
//Get our img element by using document.getElementById
var img = document.getElementById("stopw");

//Set the src property of our element to the new image URL
img.src = 'images/stopwatch.png';
</script>


 <script>
//Get our img element by using document.getElementById
var img = document.getElementById("stopwa");

//Set the src property of our element to the new image URL
img.src = 'images/stopwatch.png';
</script>




<script>
//Get our img element by using document.getElementById
var img = document.getElementById("medio");

//Set the src property of our element to the new image URL
img.src = 'images/giphy (2).gif';
</script>



<script>
//Get our img element by using document.getElementById
var img = document.getElementById("alex");

//Set the src property of our element to the new image URL
img.src = 'images/alexander.png';
</script>







<script>
//Get our img element by using document.getElementById
var img = document.getElementById("miss");

//Set the src property of our element to the new image URL
img.src = 'images/Sunny DanceRadio444.png';
</script>





<script>
//Get our img element by using document.getElementById
var img = document.getElementById("playlist");

//Set the src property of our element to the new image URL
img.src = 'images/Sunny playlist2.png';
</script>





<script>
//Get our img element by using document.getElementById
var img = document.getElementById("sunnyr");

//Set the src property of our element to the new image URL
img.src = 'images/Sunny4.png';
</script>






<script>
//Get our img element by using document.getElementById
var img = document.getElementById("logo");

//Set the src property of our element to the new image URL
img.src = 'images/Dance radio5.png';
</script>






























<audio id="musicPlayer" autoplay loop>
  <source id="musicSource" src="" type="audio/mpeg">
</audio>

<script>
window.addEventListener('load', () => {
  const musicPlayer = document.getElementById("musicPlayer");

  // Start muted
  musicPlayer.volume = 0.4;

  // After 10 seconds, set volume based on time of day
  setTimeout(() => {
    const hour = new Date().getHours();
    let targetVolume;

    if (hour < 9) {
      targetVolume = 0.4; // softer in the morning
    } else if (hour >= 21) {
      targetVolume = 0.5; // very soft at night
    } else {
      targetVolume = 0.6; // louder during the day
    }

    // Configurable fade duration (ms)
    const fadeDuration = 5000; // 5 seconds
    const interval = 50;       // update every 50ms
    const steps = fadeDuration / interval;
    let currentStep = 0;

    let fade = setInterval(() => {
      currentStep++;

      // Progress from 0 â†’ 1
      let progress = currentStep / steps;

      // Apply ease-in-out curve (smooth acceleration & deceleration)
      let eased = progress < 0.5
        ? 2 * progress * progress           // accelerate
        : -1 + (4 - 2 * progress) * progress; // decelerate

      musicPlayer.volume = Math.min(targetVolume * eased, targetVolume);

      if (currentStep >= steps) {
        clearInterval(fade);
        musicPlayer.volume = targetVolume; // ensure exact final valueDJ
      }
    }, interval);

  }, 10000); // 10 seconds
});
</script>






<script>
   














// Wait for the DOM to be ready
document.addEventListener("DOMContentLoaded", () => {
  const now   = new Date();
  const day   = now.getDay();    // 0 = Sunday, 6 = Saturday
  const hour  = now.getHours();  // 0â€“23

  // Weekday as before
  const weekdayAudioFiles = {
    hourlySou:        "audio/its now.mp3",
    quarterHourSou:   "muziek/effects/blast.mp3",
    
  };

  // Saturday splits
  const saturdayMorningAudioFiles = {
    hourlySou:        "audio/its now.mp3",
    quarterHourSou:   "muziek/effects/blast.mp3",
    fortyFiveMinuteSou: "muziek/discjockeys/DJ Saphire finale.mp3"
  };

  const saturdayAfternoonAudioFiles = {
    hourlySou:        "audio/its now.mp3",
    quarterHourSou:   "muziek/effects/blast.mp3",
    fortyFiveMinuteSou: "muziek/effects/DJ S.mp3"
  };

  const saturdayEveningAudioFiles = {
    hourlySou:        "audio/its now.mp3",
    quarterHourSou:   "muziek/effects/blast.mp3",
    fortyFiveMinuteSou: "muziek/effects/DJ Saphire finale.mp3"
  };

  // Sunday splits
  const sundayMorningAudioFiles = {
    hourlySou:        "audio/its now.mp3",
    quarterHourSou:   "muziek/effects/blast.mp3",
    fortyFiveMinuteSou: "muziek/jingles/DJ S.mp3"
  };

  const sundayAfternoonAudioFiles = {
    hourlySou:        "audio/its now.mp3",
    quarterHourSou:   "muziek/effects/blast.mp3",
    fortyFiveMinuteSou: "muziek/effects/DJ S.mp3"
  };

  const sundayEveningAudioFiles = {
    hourlySou:        "audio/its now.mp3",
    quarterHourSou:   "muziek/effects/blast.mp3",
   fortyFiveMinuteSou: "muziek/effects/DJ Saphire finale.mp3"
  };

  // Select the right map
  let audioFiles;
  if (day === 6) {
    if (hour < 12) {
      audioFiles = saturdayMorningAudioFiles;
      console.log("Using Saturday morning sounds.");
    }
    else if (hour < 17) {
      audioFiles = saturdayAfternoonAudioFiles;
      console.log("Using Saturday afternoon sounds.");
    }
    else {
      audioFiles = saturdayEveningAudioFiles;
      console.log("Using Saturday evening sounds.");
    }
  }
  else if (day === 0) {
    if (hour < 12) {
      audioFiles = sundayMorningAudioFiles;
      console.log("Using Sunday morning sounds.");
    }
    else if (hour < 17) {
      audioFiles = sundayAfternoonAudioFiles;
      console.log("Using Sunday afternoon sounds.");
    }
    else {
      audioFiles = sundayEveningAudioFiles;
      console.log("Using Sunday evening sounds.");
    }
  }
  else {
    audioFiles = weekdayAudioFiles;
    console.log("Using weekday sounds.");
  }



  // Assign the chosen sources
  Object.entries(audioFiles).forEach(([id, src]) => {
    const audioEl = document.getElementById(id);
    if (audioEl) {
      audioEl.src = src;
      console.log(`âœ… Set ${id} â†’ ${src}`);
    } else {
      console.error(`âŒ No element with id="${id}" found.`);
    }
  });

  // Attach your normalization logic
  document.querySelectorAll("audio").forEach(audio => {
    audio.addEventListener("canplay", () => adjustVolumeDynamically(audio));
  });

  // Optional: re-evaluate mappings at midnight (and at noon & 6pm for Sunday)
  scheduleRangeSwap();
});


function adjustVolumeDynamically(audioElement, targetVolume = 0.8, maxThreshold = 1) {
    const tolerance = 0.01;
    audioElement.addEventListener("timeupdate", () => {
        if (Math.abs(audioElement.volume - targetVolume) > tolerance) {
            if (audioElement.volume < targetVolume) {
                audioElement.volume = Math.min(maxThreshold, audioElement.volume + 0.01);
            } else {
                audioElement.volume = Math.max(0, audioElement.volume - 0.01);
            }
        }
    });
}










window.addEventListener("load", () => {
  loadTrack(0);        // Load your first track
  playTrack();         // Start playing it
if (curr_track) {
  curr_track.muted = false;
}

});




        
</script>
<script>
// Schedule reloads for midnight, noon and 6pm
function scheduleRangeSwap() {
  const now = new Date();
  const checkpoints = [];

  // Midnight
  checkpoints.push(new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 1));
  // Noon
  checkpoints.push(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 12, 0, 1));
  // 6pm
  checkpoints.push(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 18, 0, 1));

  checkpoints.forEach(time => {
    const ms = time - now;
    if (ms > 0) {
      setTimeout(() => {
        console.log(`Time checkpoint reached (${time.toLocaleTimeString()})â€”reloading audio sources.`);
        location.reload();
      }, ms);
    }
  });
}


















 // ðŸŽ¶ Define the tracks for each day
    const tracks = {
        0: "https://www.sunnyhotradio.com/muziek/pirate%20background/Sunny%20weekend%20piratejinglepublic.mp3",
        1: "https://www.sunnyhotradio.com/muziek/pirate%20background/Sunny%20weekdaysfinalenopublic.mp3",
        2: "https://www.sunnyhotradio.com/muziek/pirate%20background/Sunny%20weekdaysfinalenopublic.mp3",
        3: "https://www.sunnyhotradio.com/muziek/pirate%20background/Sunny%20weekdaysfinalenopublic.mp3",
        4: "https://www.sunnyhotradio.com/muziek/pirate%20background/Sunny%20weekdaysfinalenopublic.mp3",
        5: { 
            early: "https://www.sunnyhotradio.com/muziek/pirate%20background/Sunny%20weekdaysfinalenopublic.mp3", 
            after17: "https://www.sunnyhotradio.com/muziek/pirate%20background/Sunny%20weekdaysfinalepublic.mp3" 
        },
        6: "https://www.sunnyhotradio.com/muziek/pirate%20background/Sunny%20weekend%20piratejinglepublic.mp3"
    };

    

















// ðŸ•° Get the current day and hour
    const today = new Date().getDay();
    const currentHour = new Date().getHours();

    let selectedTrack;

    // Special condition for Friday (5) to switch track after 17:00
    if (today === 5) {
        selectedTrack = currentHour >= 17 ? tracks[5].after17 : tracks[5].early;
    } else {
        selectedTrack = tracks[today];
    }

    // ðŸŽ§ Set the source and load the track
    document.getElementById("musicSource").setAttribute('src', selectedTrack);
    const player = document.getElementById("musicPlayer");
    player.load(); 

    // âœ… Apply volume normalization when the track is ready to play
    player.addEventListener("canplay", () => {
        adjustVolumeDynamically(player);
    });

   





    // â”€â”€ Render the shuffled list in the DOM â”€â”€
    function renderTrackList() {
      const ul = document.getElementById("track-list-container");
      ul.innerHTML = "";
      scheduledMp3Files.forEach((t, idx) => {
        const li = document.createElement("li");
        li.textContent = t.name;
        li.addEventListener("click", () => loadTrack(idx));
        ul.appendChild(li);
      });
    }











        
</script>













<script>
//Get our img element by using document.getElementById
var img = document.getElementById("ion");

//Set the src property of our element to the new image URL
img.src = 'images/sunny stars.png';
</script>





















<script>
//Get our img element by using document.getElementById
var img = document.getElementById("dwarf");

//Set the src property of our element to the new image URL
img.src = 'images/red star3.png';
</script>
  
<script>
//Get our img element by using document.getElementById
var img = document.getElementById("lin");

//Set the src property of our element to the new image URL
img.src = 'images/Sunny5.png';
</script>
 
<script>
//Get our img element by using document.getElementById
var img = document.getElementById("linger");

//Set the src property of our element to the new image URL
img.src = 'images/Sunny7.png';
</script>



<script>
//Get our img element by using document.getElementById
var img = document.getElementById("hero-image");

//Set the src property of our element to the new image URL
img.src = 'images/Dua Lipa.png';
</script>
<script>
//Get our img element by using document.getElementById
var img = document.getElementById("astro");

//Set the src property of our element to the new image URL
img.src = 'images/red star2.png';
</script>






<script>
//Get our img element by using document.getElementById
var img = document.getElementById("record");

//Set the src property of our element to the new image URL
img.src = 'images/record2.png';
</script>
<script>
//Get our img element by using document.getElementById
var img = document.getElementById("rec");

//Set the src property of our element to the new image URL
img.src = 'images/record2.png';
</script>

<script>
//Get our img element by using document.getElementById
var img = document.getElementById("dion");

//Set the src property of our element to the new image URL
img.src = 'images/connection.gif';
</script>









<script>
//Get our img element by using document.getElementById
var img = document.getElementById("media");

//Set the src property of our element to the new image URL
img.src = 'images/pause.gif';
</script>



<script> 
document.getElementById("now").innerHTML="<em>current track</em>"; 
</script>









<script>

document.addEventListener("DOMContentLoaded", () => {
    const player = document.getElementById("musicPlayer");

    if (!player) {
        console.error("Error: `musicPlayer` not found!");
        return;
    }

    console.log("Audio element foundâ€”loading track...");
    player.load();

    player.addEventListener("canplaythrough", () => {
        console.log("Track is fully loadedâ€”applying volume adjustment.");
        adjustVolumeDynamically(player);
    });
});



</script>


    


 




<audio id="hourlySou">
  <source src="audio/its now.mp3" type="audio/mp3">
</audio>

<audio id="quarterHourSou">
  <source src="muziek/effects/blast.mp3" type="audio/mp3">
</audio>

<audio id="twentyFiveMinuteSou">
  <source src="muziek/voiceover/AI voice - From The Heart Of Amsterdam3.mp3" type="audio/mp3">
</audio>


<audio id="thirtySevenMinuteSou">
  <source src="muziek/voiceover/From The Heart Of Amsterdam.mp3" type="audio/mp3">
</audio>



<audio id="fortyFiveMinuteSou">
  <source src="" type="audio/mp3">
</audio>

<script>
  // âœ… Apply volume normalization when a track is ready to play
  document.querySelectorAll("audio").forEach(audio => {
    audio.addEventListener("canplay", () => adjustVolumeDynamically(audio));
  });



  // Play the sound(s)
  soundIds.forEach(id => {
    const soundEl = document.getElementById(id);
    if (soundEl) {
      soundEl.currentTime = 0;
      soundEl.volume = 0.6;
      soundEl.play().catch(err => console.error("Playback failed:", err));
    }
  });
}

  // ðŸ“¢ Sound Scheduling Function
  function scheduleSounds() {
    console.log("Scheduling sounds...");
    var now = new Date();

    // Hourly
    var hourlyDelay = (60 - now.getMinutes()) * 60 * 1000 - now.getSeconds() * 1000;
    setTimeout(function() {
      playSound(["hourlySou"]);
      setInterval(() => playSound(["hourlySou"]), 3600000);
    }, hourlyDelay);

    // Every 15 minutes
    var quarterHourDelay = (15 - (now.getMinutes() % 15)) * 60 * 1000 - now.getSeconds() * 1000;
    setTimeout(function() {
      playSound(["quarterHourSou"]);
      setInterval(() => playSound(["quarterHourSou"]), 900000);
    }, quarterHourDelay);

// Every 25 minutes
var twentyFiveMinuteDelay = (25 - (now.getMinutes() % 25)) * 60 * 1000 - now.getSeconds() * 1000;
setTimeout(function() {
  playSound(["twentyFiveMinuteSou"]); // or rename to "twentyFiveMinuteSou" for clarity
  setInterval(() => playSound(["twentyFiveMinuteSou"]), 1500000); // 25 * 60 * 1000 = 1,500,000 ms
}, twentyFiveMinuteDelay);

// Every 37 minutes
var thirtySevenMinuteDelay = (37 - (now.getMinutes() % 37)) * 60 * 1000 - now.getSeconds() * 1000;
setTimeout(function() {
  playSound(["thirtySevenMinuteSou"]); // or rename to "thirtySevenMinuteSou" for clarity
  setInterval(() => playSound(["thirtySevenMinuteSou"]), 2,220,000); // 37 * 60 * 1000 = 2,220,000 ms
}, thirtySevenMinuteDelay);

  }

  // ðŸ•’ Activate scheduling on page load
  window.onload = scheduleSounds;
</script>






















<audio id="hourlyAnnouncement"></audio>

<script>
  // ðŸŽ§ Define the sources for hourly announcements
  const sources = [
    "audio/0.mp3", "audio/1.mp3", "audio/2.mp3", "audio/3.mp3",
    "audio/4.mp3", "audio/5.mp3", "audio/6.mp3", "audio/7.mp3",
    "audio/8.mp3", "audio/9.mp3", "audio/10.mp3", "audio/11.mp3",
    "audio/12.mp3", "audio/13.mp3", "audio/14.mp3", "audio/15.mp3",
    "audio/16.mp3", "audio/17.mp3", "audio/18.mp3", "audio/19.mp3",
    "audio/20.mp3", "audio/21.mp3", "audio/22.mp3", "audio/23.mp3"
  ];

  let currentIndex = new Date().getHours(); // Set index based on current hour

  function playHourlyAnnouncement() {
    const audioElement = document.getElementById('hourlyAnnouncement');
    if (!audioElement) {
      console.error("Audio element not found!");
      return;
    }

    // â³ Calculate time until next hour
    const now = new Date();
    const minutes = now.getMinutes();
    const seconds = now.getSeconds();
    const millisecondsToNextHour = ((59 - minutes) * 60 + (60 - seconds)) * 1000;

    // ðŸ”” Schedule first announcement at top of next hour
    setTimeout(() => {
      playAnnouncement(audioElement, currentIndex);

      // ðŸ” Schedule hourly announcements
      setInterval(() => {
        currentIndex = (currentIndex + 1) % sources.length;
        playAnnouncement(audioElement, currentIndex);
      }, 3600000); // every hour
    }, millisecondsToNextHour);
  }

  function playAnnouncement(audioElement, index) {
    const source = sources[index];
    audioElement.src = source;
    audioElement.load();

    // ðŸ”Š Boost volume to max
    audioElement.volume = 1.0;

    // âœ… Optional: log for debugging
    console.log(`ðŸ“¢ Playing hourly announcement for hour ${index}: ${source}`);

    audioElement.play().catch(err => {
      console.warn("Playback failed:", err);
    });
  }

  // ðŸ•’ Activate hourly announcements
  playHourlyAnnouncement();
</script>









<script>
window.onscroll = function() {myFunction()};

var header = document.getElementById("myHeader");
var sticky = header.offsetTop;

function myFunction() {
  if (window.pageYOffset > sticky) {
    header.classList.add("sticky");
  } else {
    header.classList.remove("sticky");
  }
}

</script>
<script>
function generateSchedule() {
    const today = new Date();
    const schedule = {};
    const weekendDays = [5, 6, 0]; // Friday (5), Saturday (6), Sunday (0)
    
    const events = {
        5: [ // Friday
            { time: "03:00 - 12:00", event: "Morning Disco" },
            { time: "12:00 - 17:00", event: "Afternoon Vibes" },
            { time: "17:00 - 21:00", event: "Let It Happen!" },
            { time: "21:00 - 23:00", event: "Sunny's Happening" }
        ],
        6: [ // Saturday
            { time: "03:00 - 12:00", event: "Morning Disco" },
            { time: "12:00 - 17:00", event: "DJ Sapphire Live Set" },
            { time: "17:00 - 21:00", event: "Love Sapphire!" },
            { time: "21:00 - 23:00", event: "Sapphire's Shot" }

        ],
        0: [ // Sunday
            { time: "03:00 - 12:00", event: "Morning Disco" },
            { time: "12:00 - 17:00", event: "DJ'S Disco Event" },
            { time: "17:00 - 21:00", event: "It's 'S" },
            { time: "21:00 - 23:00", event: "Let's Say 'S!" }

        ]
    };

    for (let i = 1; i <= 7; i++) {
        let date = new Date();
        date.setDate(today.getDate() + i);
        let dayOfWeek = date.getDay();

        if (weekendDays.includes(dayOfWeek)) {
            schedule[date.toISOString().split("T")[0]] = events[dayOfWeek];
        }
    }

    return schedule;
}

// console.log("Generated Schedule:", JSON.stringify(generateSchedule(), null, 2));
// console.log("Loading track:", scheduledMp3Files[track_index].name, "-", scheduledMp3Files[track_index].artist);






























</script>

<audio id="djIntro" preload="auto"></audio>
<audio id="musicplayer" preload="auto" loop></audio>
<audio id="djPlayer" preload="auto" loop></audio>









<script>
// â€”â€”â€” Shuffle helper â€”â€”â€”
function shuffle(array) {
  if (array.length <= 1) return array;
  let m = array.length, t, i;
  while (m) {
    i = Math.floor(Math.random() * m--);
    t = array[m];
    array[m] = array[i];
    array[i] = t;
  }
  return array;
}

// â€”â€”â€” Time category logic â€”â€”â€”
function getCurrentTimeCategory() {
  const now = new Date();
  const currentHour = now.getHours();
  const currentDay = now.getDay();

  const timeRanges = [
    { key: "morning", start: 8, end: 12 },
    { key: "afternoon", start: 12, end: 14 },
    { key: "special-show", start: 14, end: 16 },
    { key: "evening", start: 16, end: 19 },
    { key: "evening-late", start: 19, end: 23 },
    { key: "late", start: 23, end: 3 },
    { key: "night", start: 3, end: 8 }
  ];

  const categoriesPerDay = {
    0: { morning: ["morning","f afternoon","f evening"], afternoon: ["f afternoon","f evening","f evening-late"], "special-show": ["special-cast"], evening: ["f evening","f evening-late","f afternoon"], "evening-late": ["f evening-late","f evening"], late: ["f evening-late"], night: ["jingle-time"] },
    1: { morning: ["morning","afternoon","evening"], afternoon: ["afternoon","evening","morning"], "special-show": ["afternoon","evening"], evening: ["evening","evening-late","afternoon"], "evening-late": ["evening-late","evening"], late: ["evening-late"], night: ["jingle-time"] },
    2: { morning: ["morning","afternoon","evening"], afternoon: ["afternoon","evening","morning"], "special-show": ["evening","afternoon"], evening: ["evening","evening-late","afternoon"], "evening-late": ["evening-late","evening"], late: ["evening-late"], night: ["jingle-time"] },
    3: { morning: ["morning","afternoon","evening"], afternoon: ["afternoon","evening","morning"], "special-show": ["afternoon","evening"], evening: ["evening","evening-late","afternoon"], "evening-late": ["evening-late","evening"], late: ["evening-late"], night: ["jingle-time"] },
    4: { morning: ["morning","afternoon","evening"], afternoon: ["afternoon","evening","morning"], "special-show": ["afternoon","evening"], evening: ["evening","evening-late","afternoon"], "evening-late": ["evening-late"], late: ["evening-late"], night: ["jingle-time"] },
    5: { morning: ["morning","afternoon","evening","evening-late"], afternoon: ["afternoon","evening","evening-late"], "special-show": ["evening","afternoon"], evening: ["evening","evening-late","afternoon"], "evening-late": ["evening-late","evening"], late: ["evening-late"], night: ["jingle-time"] },
    6: { morning: ["f afternoon","f evening","f evening-late"], afternoon: ["f afternoon","f evening","f evening-late"], "special-show": ["speciall"], evening: ["f evening","f evening-late","f afternoon"], "evening-late": ["f evening-late","f evening"], late: ["f evening-late","f afternoon"], night: ["jingle-time"] }
  };

  // Helper for overnight ranges
  function isInRange(hour, start, end) {
    if (start < end) {
      return hour >= start && hour < end;
    } else {
      return hour >= start || hour < end;
    }
  }

  let timeKey = "night";
  for (const range of timeRanges) {
    if (isInRange(currentHour, range.start, range.end)) {
      timeKey = range.key;
      break;
    }
  }

  const options = categoriesPerDay[currentDay][timeKey] || ["unknown"];
  return shuffle([...options])[0];
}

// â€”â€”â€” Fade-in helper â€”â€”â€”
function fadeIn(audioEl, target = 0.7, step = 0.05, interval = 200) {
  const fade = setInterval(() => {
    if (audioEl.volume < target) {
      audioEl.volume = Math.min(audioEl.volume + step, target);
    } else {
      clearInterval(fade);
    }
  }, interval);
}

// â€”â€”â€” Main scheduling logic â€”â€”â€”
window.addEventListener('load', () => {
  const djIntro = document.getElementById('djIntro');
  const djPlayer = document.getElementById('djPlayer');
const musicplayer = document.getElementById('musicplayer'); // for looping background music
  



const weekdaySlots = [
    { start: 8, end: 14, file: "muziek/voiceover/latest disco hits of the eighties.mp3" },
    { start: 14, end: 16, file: "muziek/voiceover/starten met Sunny.mp3" },
    { start: 16, end: 19, file: "muziek/voiceover/starten met Sunny.mp3" },
    { start: 19, end: 23, file: "muziek/voiceover/starten met Sunny.mp3" },
    { start: 23, end: 3, file: "muziek/voiceover/Latest Hits Of Dance Area22222.mp3" },
    { start: 3, end: 8, file: "muziek/voiceover/latest disco hits of the eighties.mp3" }
  ];

  const weekendSlots = [
    { start: 8, end: 14, file: "muziek/voiceover/From The Heart Of Amsterdam2.mp3" },
    { start: 14, end: 16, file: "muziek/discjockeys/DJ Saphire finale.mp3" },
    { start: 16, end: 19, file: "muziek/voiceover/Sapphire033.mp3" },
    { start: 19, end: 23, file: "muziek/discjockeys/DJ Saphire finale.mp3" },
    { start: 23, end: 3, file: "muziek/voiceover/Latest Hits Of Dance Area22222.mp3" },
    { start: 3, end: 8, file: "muziek/discjockeys/starten met Sunny4.mp3" }
  ];

  const now = new Date();
  const currentHour = now.getHours();
  const currentDay = now.getDay(); // 0 = Sunday, 6 = Saturday

  const isWeekend = currentDay === 0 || currentDay === 6;
  const schedule = isWeekend ? weekendSlots : weekdaySlots;

  // Use the isInRange helper for overnight slots
  const currentSlot = schedule.find(slot => {
    return (slot.start < slot.end)
      ? currentHour >= slot.start && currentHour < slot.end
      : currentHour >= slot.start || currentHour < slot.end;
  });

  if (currentSlot) {
    djIntro.src = currentSlot.file;
    djIntro.volume = 1.0;
    djIntro.play().catch(err => console.log("Intro can't autoplay:", err));

    djIntro.addEventListener('ended', () => {
      djPlayer.volume = 0;
      djPlayer.play().catch(err => console.log("Main player can't autoplay:", err));
      fadeIn(djPlayer, 0.7, 0.05, 200);
    });
  } else {
    djPlayer.volume = 1.0;
    djPlayer.play().catch(err => console.log("Main player can't autoplay:", err));
  }
});
</script>

<script>
function playIntroWithOverlap(file) {
  const djIntro = document.getElementById('djIntro');
  const djPlayer = document.getElementById('djPlayer');

  djIntro.src = file;
  djIntro.currentTime = 0;
  djIntro.volume = 1.0;

  djPlayer.volume = 0;

  djIntro.play().catch(err => console.warn("Intro failed:", err));

  // Start music fade-in 3s before intro ends
  djIntro.addEventListener('timeupdate', function overlapHandler() {
    if (djIntro.duration && djIntro.currentTime >= djIntro.duration - 3) {
      djIntro.removeEventListener('timeupdate', overlapHandler);
      djPlayer.play()
        .then(() => fadeIn(djPlayer, 0.7, 0.05, 200))
        .catch(err => console.warn("Music failed:", err));
    }
  });
}
</script>


<style>
  .badge {
    position: fixed;
    bottom: 1rem;
    right: 1rem;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.3rem;
    padding: 0.6rem 0.8rem;
    border-radius: 12px;
    color: #333333;
    background-color: transparent;
    box-shadow: 0 6px 16px rgba(0,0,0,0.35);
    font: 600 14px/1.2 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto;
    width: 200px;
    z-index: 9999;
  }
  .badge-icon { margin-right: 0.4rem; }
  .badge-label { white-space: nowrap; }
  .progress {
    width: 100%;
    height: 6px;
    background: rgba(255,255,255,0.15);
    border-radius: 4px;
    overflow: hidden;
  }
  .progress-bar {
    height: 100%;
    width: 0%;
    background: #6ea8ff;
    transition: width 1s linear;
  }
</style>

<!-- Time-block badge with progress bar -->
<div id="timeBadge" class="badge" aria-live="polite" aria-atomic="true">
  <span class="badge-icon">ðŸ•’</span>
  <span class="badge-label">Loadingâ€¦</span>
  <div class="progress">
    <div class="progress-bar"></div>
  </div>
</div>

<script>
function getTimeBounds(range) {
  const now = new Date();
  let start = new Date(now);
  let end = new Date(now);
  start.setHours(range.start, 0, 0, 0);
  end.setHours(range.end, 0, 0, 0);
  if (range.start > range.end) {
    if (now.getHours() >= range.start) end.setDate(end.getDate() + 1);
    else start.setDate(start.getDate() - 1);
  }
  return { start, end };
}

const badgeMeta = {
  morning: { icon: "ðŸŒ…", label: "Morning" },
  afternoon: { icon: "â˜€ï¸", label: "Afternoon" },
  evening: { icon: "ðŸŒ‡", label: "Evening" },
  "evening-late": { icon: "ðŸŒƒ", label: "Evening Late" },
  night: { icon: "ðŸŒ™", label: "Night" },
  late: { icon: "ðŸ¦‰", label: "Late" },
  "special-show": { icon: "ðŸŽ›ï¸", label: "Special Show" },
  "jingle-time": { icon: "ðŸ””", label: "Jingle Time" },
  unknown: { icon: "ðŸ•’", label: "On Air" }
};

const aliases = {
  morning: ["Morning Rise", "Sunrise Grooves", "Early Light"],
  afternoon: ["Afternoon Flow", "Daylight Beats", "Sunny Sessions"],
  evening: ["Evening Groove", "Evening Flow", "Evening Pulse"],
  "evening-late": ["Late Evening Lights", "Twilight Grooves", "Sundown Sessions"],
  night: ["Night Drift", "Moonlight Mix", "Starlight Sessions"],
  late: ["Owl Hours", "Midnight Frequencies", "After Hours"],
  "special-show": ["Special Mix", "Spotlight Session", "Feature Hour"],
  "jingle-time": ["Jingle Time", "Station ID", "Bumper Beats"]
};

let cachedAlias = null;

function getAlias(category) {
  if (cachedAlias && cachedAlias.category === category) {
    return cachedAlias.label;
  }
  if (aliases[category]) {
    const list = aliases[category];
    const label = list[Math.floor(Math.random() * list.length)];
    cachedAlias = { category, label };
    return label;
  }
  return badgeMeta[category]?.label || category;
}

// Example ranges (adjust to your stationâ€™s schedule)
const timeRanges = [
  { key: "morning", start: 6, end: 12 },
  { key: "afternoon", start: 12, end: 17 },
  { key: "evening", start: 17, end: 21 },
  { key: "evening-late", start: 21, end: 23 },
  { key: "night", start: 23, end: 2 },
  { key: "late", start: 2, end: 6 }
];

function updateTimeBadge(categoryKey) {
  const badge = document.getElementById("timeBadge");
  if (!badge) return;
  const meta = badgeMeta[categoryKey] || badgeMeta.unknown;
  const range = timeRanges.find(r => r.key === categoryKey) || timeRanges.find(r => r.key === "night");
  const { start, end } = getTimeBounds(range);

  const now = new Date();
  const total = end - start;
  const elapsed = now - start;
  const remaining = end - now;

  const hours = Math.floor(remaining / 3600000);
  const mins = Math.floor((remaining % 3600000) / 60000);

  badge.querySelector(".badge-icon").textContent = meta.icon;
  const label = getAlias(categoryKey);
  badge.querySelector(".badge-label").textContent =
    `${label} Â· ${hours > 0 ? hours + "h " : ""}${mins}m left`;

  const percent = Math.max(0, Math.min(100, (elapsed / total) * 100));
  badge.querySelector(".progress-bar").style.width = percent + "%";
}

function getCurrentCategory() {
  const nowHour = new Date().getHours();
  return timeRanges.find(r =>
    (r.start <= r.end && nowHour >= r.start && nowHour < r.end) ||
    (r.start > r.end && (nowHour >= r.start || nowHour < r.end))
  )?.key || "unknown";
}

function startBadgeLoop() {
  function tick() {
    const cat = getCurrentCategory();
    updateTimeBadge(cat);
  }
  tick();
  setInterval(tick, 60000);
}

document.addEventListener("DOMContentLoaded", startBadgeLoop);
</script>






<script src= "main24.js"> </script>






</body>
</html>

