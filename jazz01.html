<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HGPPL3SXDS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HGPPL3SXDS');
</script>











<title> Sunny Jazzradio</title>
   <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
 <meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<!-- Load FontAwesome icons -->
  <link rel="stylesheet"
        href=
"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
 
  <!-- Load the custom CSS style file -->
  <link rel="stylesheet" type="text/css" href="style2.css">
  <link rel="stylesheet" type="text/css" href="style9.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<style type="text/css">
  
 









 <style>
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}

.top-container {
  background-color: #f1f1f1;
  padding: 30px;
  text-align: center;
}

.header {
  padding: 10px 16px;
  color: #f1f1f1;
}

.content {
  padding: 16px;
}

.sticky {
  position: fixed;
  top: 0; z-index: 1;
  width: 100%;
}

.sticky + .content {
  padding-top: 102px;
}












</style>
<!-- Load an icon library to show a hamburger menu (bars) on small screens -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Top Navigation Menu -->
<div class="topnav" id="myHeader" >
  <h1 class="header" > <a href="#home" class="active"><img id= "logo"><img id= "dion">

</a> </h1>
  <!-- Navigation links (hidden by default) -->
  <div id="myLinks">
    
  <a href="https://sunnyjazzradio.com/Index.html">HOME<img id= "dwarf"></a>

    <a href="https://sunnyrockradio.com/Index.html">SUNNY <em>ROCK</em> RADIO<img id= "lin"></a>
  <a href="https://sunnyhotradio.com/Index.html">SUNNY <em>DANCE</em> RADIO<img id= "linger"></a>



</div>
  



















  <!-- "Hamburger menu" / "Bar icon" to toggle the navigation links -->
  <a href="javascript:void(0);" class="icon" onclick="myFunction1()">
    <div class="btn">
        <span class="fas fa-bars"></span>
    </div>
 
 </a>
</div>

</head>


<body>
<div id="leaf-container" class="lane lane-front"></div>
<div id="snow-container-mid" class="lane lane-mid"></div>
<div id="snow-container-back" class="lane lane-back"></div>
<div class = "arrow">
<br>
<br>
<br>
<br>




<div id="now"></div>
<br>
<br>


<br>
<br>
<br>
<br>

<br>
<br>
<br>
<br>
<br>
<br>
<br>








<div class="player">
 
    <!-- Define the section for displaying details -->
    <div class="details">
      <div class="now-playing">PLAYING x OF y</div>
  <br>
      <div class="track-name">Loading</div>
      <div class="track-artist">Playlist</div>
    </div>

 

 <!-- Define the section for displaying track buttons -->
    <div class="buttons">
    
      <div class="playpause-track" onclick="playpauseTrack()">
        <br>
<img id= "media">
      </div>
     
    </div>
<br>

 <!-- Define the section for displaying the seek slider-->
    <div class="slider_container">
      <div class="current-time"><strong>00:00</strong></div>
      <input type="range" min="1" max="100"
        value="0" class="seek_slider" >
      <div class="total-duration"><strong>00:00</strong></div>
    </div>
 
    <!-- Define the section for displaying the volume slider-->
    <div class="slider_container">
      <i class="fa fa-volume-down"></i>
      <input type="range" min="1" max="100"
        value="99" class="volume_slider" onchange="setVolume()">
      <i class="fa fa-volume-up"></i>
    </div>
  
<br>
<br>




<img id= "astro">

</div>


<div>
 

   <IFRAME  SRC="https://gastjazz.netlify.app/gast" id="roll" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=4 MARGINHEIGHT=0 MARGINWIDTH=0  WIDTH=345 HEIGHT=780></IFRAME>




  
  

</div>


<br>
<br>
<br>
<br>
<br>
<br>




<div id="clock-flash"></div>

<script>
function getClockEmoji(hour) {
  const h = hour % 12 === 0 ? 12 : hour % 12;
  const map = {
    1: "üïê", 2: "üïë", 3: "üïí", 4: "üïì", 5: "üïî", 6: "üïï",
    7: "üïñ", 8: "üïó", 9: "üïò", 10: "üïô", 11: "üïö", 12: "üïõ"
  };
  return map[h] || "üï∞Ô∏è";
}

function flashClock(hour) {
  const flashEl = document.getElementById("clock-flash");
  flashEl.textContent = getClockEmoji(hour);
  flashEl.classList.add("show");

  setTimeout(() => {
    flashEl.classList.remove("show");
  }, 10000); // visible for 10s
}


function scheduleHourlyFlash() {
  const now = new Date();
  const nextHour = new Date(now);
  nextHour.setHours(now.getHours() + 1, 0, 0, 0);
  const delay = nextHour - now;

  setTimeout(() => {
    triggerFlash();
    setInterval(triggerFlash, 3600000); // every hour
  }, delay);
}

function triggerFlash() {
  const hour = new Date().getHours();
  flashClock(hour);
  console.log(`${getClockEmoji(hour)} DJ Brain: It's ${hour}:00 sharp!`);
}

// Kick it off
document.addEventListener("DOMContentLoaded", scheduleHourlyFlash);
</script>









<br>
<p id="message"></p>
</div>


<br>
<div>
<br><img id="record">
<h5 class= "inch"><em> Todays Hotlist</em></h5><br>
<br>
<br>
<img id= "playlist">


<ul id="track-list"></ul>





  <button id="show-more-button">show more</button>
</div>
<br>
<br>
<br>
<br>



<br>
<br>
<div>
<IFRAME  SRC="https://weer2.netlify.app/" id="temp" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0  WIDTH=346 HEIGHT=350></IFRAME>

<br>
</div>
<br>
<br>
<br>



<br>
<br>
<div>
<h5 id="events"> </h5>
<script>

  fetch('./event.json')
  .then(response => response.json())
  .then(data => {
    const now = new Date();
    const todayName = now.toLocaleDateString('en-US', { weekday: 'long' });
    const events = data.schedule[todayName];

    if (events) {
      let eventsHTML = '<em><br><u>Upcoming Events</u></em><br><br>' + todayName + ':<br><br>';

      events.forEach(event => {
        const [start, end] = event.time.split(' - ');
        const startTime = new Date(now.toDateString() + ' ' + start);
        const endTime = new Date(now.toDateString() + ' ' + end);

        const isCurrent = now >= startTime && now <= endTime;
        const glowClass = isCurrent ? 'glow' : '';

        eventsHTML += `<div class="${glowClass}">${event.time}: <br><em>${event.event}</em><br><br></div>`;
      });

      document.getElementById('events').innerHTML = eventsHTML;
    } else {
      document.getElementById('events').innerHTML = '<em>Weekend events only! Come back Saturday.</em>';
    }
  })
  .catch(error => console.error('Error loading events:', error));

</script>
<br>
<br>
<br>
<IFRAME  class= "sandspinner" SRC="https://sandpinner.netlify.app/sandpinner" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0  WIDTH=356 HEIGHT=250></IFRAME>



</div>



<div>
<br><img id="stopw">

<h5 id="stop" class="inch">00:00   
 </h5><br><img id="stopwa">

<br>
<br>
<br>
<IFRAME  SRC="https://shiphornn.netlify.app/treasuree" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0  WIDTH=356 HEIGHT=250></IFRAME>
</div>
<br>
<br>
<br>
<br>

 <div>
<h5 class="inch"><em>Leave A Message!</em></h5>
<br>
<IFRAME class="weather" SRC="subm.html" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=300 HEIGHT=856></IFRAME>


<br>
<br>
<p>
Henny Lig nog in bed,lekker te luisteren!
<br>
Mar 17  2025
<br>

</p>
<br>
<br>
<br>
<br>
<p>
Dag Dank je for yours always mom!
<br>
May 01 2025
<br>

</p>
</div>




<div>
<br><img id="sunnyr">

<h5 id="time"> </h5><br>

<br>
</div>


<div>
<IFRAME id="ero-image" SRC="https://jazzlegend.netlify.app/jazzestars" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0  WIDTH=356 HEIGHT=450></IFRAME>


<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<img id= "giphy">
</div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<div>
<br>

<img id="alex"><h5 class="inch"><em>Users  Online</em></h5>






<br>

<IFRAME id="chat" SRC="https://gasts1.netlify.app/sfeer" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=350 HEIGHT=656></IFRAME>

<br>






 </div>


<div>
<h5 class="inch"><em>Sunny Jazz<span class="dark"> Radio</span> Stars</em></h5>
 <br>
<br>
<img id="ion">

<br>
<br>
<br>
<br>

</div>


<div>
<IFRAME id="chat" SRC="https://jazzstars.netlify.app/jazzstarss" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=350 HEIGHT=956></IFRAME>




</div>






<br>
<br>
<br>

<br>




 <div>
<h5 class="inch"><em>Countdown Timer</em></h5>



<IFRAME class="weather" SRC="https://countdownseason.netlify.app/countdown" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=345 HEIGHT=506></IFRAME>
</div>

<br>
<br>
<br>

 








<script>






function filterMp3ByTimeCategory(mp3Files, timeCategory) {
    return mp3Files.filter(mp3 => mp3.timeCategory === timeCategory);
}







</script>




<script>
window.addEventListener("load", function () {
  const clock = document.getElementById("stop");
  let time = -1; // Initialize time
  function incrementTime() {
    time++;
    clock.textContent =
      ("0" + Math.trunc(time / 60)).slice(-2) + ":" + ("0" + (time % 60)).slice(-2);
  }
  incrementTime(); // Initialize display
  setInterval(incrementTime, 1000); // Update every second
});

</script>








<audio id="musicPlayer" autoplay>
    <source id="musicSource" src="" type="audio/mpeg">
</audio>

<script>
window.addEventListener('load', () => {
  const musicPlayer = document.getElementById("musicPlayer");

  // Start at normal volume
  musicPlayer.volume = 0.7;

  // After 4 seconds, fade down a bit
  setTimeout(() => {
    const fadeDownDuration = 2000; // 2s fade down
    const fadeUpDuration   = 2000; // 2s fade back up
    const interval = 50;

    const startVolume = musicPlayer.volume;
    const lowVolume   = 0.3; // softer under DJ
    const normalVolume = 0.7;

    // Fade down
    let step = 0;
    const steps = fadeDownDuration / interval;
    const fadeDown = setInterval(() => {
      step++;
      let progress = step / steps;
      musicPlayer.volume = startVolume + (lowVolume - startVolume) * progress;
      if (step >= steps) {
        clearInterval(fadeDown);
        musicPlayer.volume = lowVolume;

        // Hold low volume for 5 seconds (DJ speaking)
        setTimeout(() => {
          // Fade back up
          let upStep = 0;
          const upSteps = fadeUpDuration / interval;
          const fadeUp = setInterval(() => {
            upStep++;
            let upProgress = upStep / upSteps;
            musicPlayer.volume = lowVolume + (normalVolume - lowVolume) * upProgress;
            if (upStep >= upSteps) {
              clearInterval(fadeUp);
              musicPlayer.volume = normalVolume; // restore
            }
          }, interval);
        }, 5000); // <-- how long to stay ducked
      }
    }, interval);
  }, 4000); // trigger 4s after load/play
});
</script>














<script>
    




function scheduleRangeSwap() {
  const now = new Date();
  const checkpoints = [];

  // 3am + 10s (Jazz Time start)
  checkpoints.push(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 3, 0, 10));

  // Noon + 10s (Eighties Disco start)
  checkpoints.push(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 12, 0, 10));

  // 6pm + 10s (Seventies Disco start)
  checkpoints.push(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 18, 0, 10));

  // 9pm + 10s (Special Show start)
  checkpoints.push(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 21, 0, 10));

  // 11pm + 10s (Nineties Disco start)
  checkpoints.push(new Date(now.getFullYear(), now.getMonth(), now.getDate(), 23, 0, 10));

  // Optional: Midnight + 10s (ritual reset)
  checkpoints.push(new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 10));

  checkpoints.forEach(time => {
    const ms = time - now;
    if (ms > 0) {
      setTimeout(() => {
        console.log(`Checkpoint reached (${time.toLocaleTimeString()}) ‚Äî reloading audio sources.`);
        location.reload();
      }, ms);
    }
  });
}















// üé∂ Define the tracks for each day
    const tracks = {
       0: "https://www.sunnyjazzradio.com/muziek/pirate%20background/Roxxjazz.mp3",
        1: "https://www.sunnyjazzradio.com/muziek/pirate%20background/Roxxjazz.mp3",
        2: "https://www.sunnyjazzradio.com/muziek/pirate%20background/Roxxjazz.mp3",
        3: "https://www.sunnyjazzradio.com/muziek/pirate%20background/Roxxjazz.mp3",
        4: "https://www.sunnyjazzradio.com/muziek/pirate%20background/Roxxjazz.mp3",

        5: { 
            early: "https://www.sunnyjazzradio.com/muziek/pirate%20background/Roxxjazz.mp3", 
            after17: "https://www.sunnyjazzradio.com/muziek/pirate%20background/Roxxjazz.mp3" 
        },
        6: "https://www.sunnyjazzradio.com/muziek/pirate%20background/Roxxjazz.mp3"
    };

    // üï∞ Get the current day and hour
    const today = new Date().getDay();
    const currentHour = new Date().getHours();

    let selectedTrack;

    // Special condition for Friday (5) to switch track after 17:00
    if (today === 5) {
        selectedTrack = currentHour >= 17 ? tracks[5].after17 : tracks[5].early;
    } else {
        selectedTrack = tracks[today];
    }

    // üéß Set the source and load the track
    document.getElementById("musicSource").setAttribute('src', selectedTrack);
    const player = document.getElementById("musicPlayer");
    player.load(); 



function adjustVolumeDynamically(audioElement, track) {
  if (!audioElement || !track) return;

  let targetVolume = typeof track.volumeBoost === "number" ? track.volumeBoost : 0.6;
  let maxThreshold = 1; // Prevent distortion

  audioElement.addEventListener("timeupdate", () => {
    if (audioElement.volume < targetVolume) {
      audioElement.volume = Math.min(maxThreshold, audioElement.volume + 0.01);
    } else if (audioElement.volume > targetVolume) {
      audioElement.volume = Math.max(0, audioElement.volume - 0.01);
    }
  });
}













window.addEventListener("load", () => {
  loadTrack(0);        // Load your first track
  playTrack();         // Start playing it
 
});









scheduleRangeSwap();













</script>



















  


























 




















<script>
//Get our img element by using document.getElementById
var img = document.getElementById("stopw");

//Set the src property of our element to the new image URL
img.src = 'images/stopwatch.png';
</script>


 <script>
//Get our img element by using document.getElementById
var img = document.getElementById("stopwa");

//Set the src property of our element to the new image URL
img.src = 'images/stopwatch.png';
</script>






<script>
//Get our img element by using document.getElementById
var img = document.getElementById("alex");

//Set the src property of our element to the new image URL
img.src = 'images/alexander.png';
</script>

























<script>
//Get our img element by using document.getElementById
var img = document.getElementById("logo");

//Set the src property of our element to the new image URL
img.src = 'images/Sunny jazz1.png';
</script>

















<script>
//Get our img element by using document.getElementById
var img = document.getElementById("giphy");

//Set the src property of our element to the new image URL
img.src = 'images/giphy.gif';
</script>












<script>
//Get our img element by using document.getElementById
var img = document.getElementById("ion");

//Set the src property of our element to the new image URL
img.src = 'images/sunny stars.png';
</script>

















<script>
//Get our img element by using document.getElementById
var img = document.getElementById("dwarf");

//Set the src property of our element to the new image URL
img.src = 'images/red star3.png';
</script>
  
<script>
//Get our img element by using document.getElementById
var img = document.getElementById("lin");

//Set the src property of our element to the new image URL
img.src = 'images/Sunny5.png';
</script>
 
<script>
//Get our img element by using document.getElementById
var img = document.getElementById("linger");

//Set the src property of our element to the new image URL
img.src = 'images/Sunny7.png';
</script>


<script>
//Get our img element by using document.getElementById
var img = document.getElementById("astro");

//Set the src property of our element to the new image URL
img.src = 'images/red star2.png';
</script>

<script>
//Get our img element by using document.getElementById
var img = document.getElementById("sunnyr");

//Set the src property of our element to the new image URL
img.src = 'images/Sunny6.png';
</script>




<script>
//Get our img element by using document.getElementById
var img = document.getElementById("dion");

//Set the src property of our element to the new image URL
img.src = 'images/red star3.png';
</script>



<script>
//Get our img element by using document.getElementById
var img = document.getElementById("record");

//Set the src property of our element to the new image URL
img.src = 'images/record3.png';
</script>


<script>
//Get our img element by using document.getElementById
var img = document.getElementById("playlist");

//Set the src property of our element to the new image URL
img.src = 'images/Sunny playlist3.png';
</script>


<script>
//Get our img element by using document.getElementById
var img = document.getElementById("media");

//Set the src property of our element to the new image URL
img.src = 'images/pause66.gif';
</script>



<script> 
document.getElementById("now").innerHTML="<em>current track</em>"; 
</script>


<script>
function startTime() {
    const today = new Date();
    let h = today.getHours();
    let m = today.getMinutes();
    let s = today.getSeconds();
    
    m = checkTime(m);
    s = checkTime(s);
    
    document.getElementById('time').innerHTML = "Sunny Time: " + h + ":" + m + ":" + s;
    
    setTimeout(startTime, 1000);
}

function checkTime(i) {
    return i < 10 ? "0" + i : i; // Adds leading zero if needed
}


startTime();

</script>














    









    


 








<audio id="hourlyAnnouncement"></audio>

<script>
    // üéß Define the sources for hourly announcements
    var sources = [
        "audio/0.mp3", "audio/1.mp3", "audio/2.mp3", "audio/3.mp3",
        "audio/4.mp3", "audio/5.mp3", "audio/6.mp3", "audio/7.mp3",
        "audio/8.mp3", "audio/9.mp3", "audio/10.mp3", "audio/11.mp3",
        "audio/12.mp3", "audio/13.mp3", "audio/14.mp3", "audio/15.mp3",
        "audio/16.mp3", "audio/17.mp3", "audio/18.mp3", "audio/19.mp3",
        "audio/20.mp3", "audio/21.mp3", "audio/22.mp3", "audio/23.mp3"
    ]; // Array of audio sources

    var currentIndex = new Date().getHours(); // Set index based on the current hour

 function playHourlyAnnouncement() {
    var audioElement = document.getElementById('hourlyAnnouncement');
    
    if (!audioElement) {
        console.error("Audio element not found!");
        return;
    }

    var currentTime = new Date();
    var minutes = currentTime.getMinutes();
    var seconds = currentTime.getSeconds();
    var millisecondsToNextHour = ((59 - minutes) * 60 + (60 - seconds)) * 1000;

    setTimeout(function() {
        audioElement.src = sources[currentIndex];
        audioElement.load(); // ‚úÖ Ensure the audio element is ready
        audioElement.play();
        adjustVolumeDynamically(audioElement); // ‚úÖ Apply volume normalization

        currentIndex = (currentIndex + 1) % sources.length;

        setInterval(function() {
            audioElement.src = sources[currentIndex];
            audioElement.load();
            audioElement.play();
            adjustVolumeDynamically(audioElement); // ‚úÖ Apply volume normalization for each track
            currentIndex = (currentIndex + 1) % sources.length;
        }, 3600000); // Play every hour
    }, millisecondsToNextHour);
}


    // üïí Activate hourly announcements
    playHourlyAnnouncement();


































</script>




























<script>




    // ‚îÄ‚îÄ Render the shuffled list in the DOM ‚îÄ‚îÄ
    function renderTrackList() {
      const ul = document.getElementById("track-list");
      ul.innerHTML = "";
      scheduledMp3Files.forEach((t, idx) => {
        const li = document.createElement("li");
        li.textContent = t.name;
        li.addEventListener("click", () => loadTrack(idx));
        ul.appendChild(li);
      });
    }
    

</script>
 
<<audio id="musicPlayer"></audio>
<audio id="hourlySou"></audio>
<audio id="quarterHourSou"></audio>
<audio id="twentyFiveMinuteSou"></audio>
<audio id="thirtyFiveMinuteSou"></audio>
<audio id="thirtyNineMinuteSou"></audio>






  






<script>
// üîä Optional: volume helper
function adjustVolumeDynamically(audioEl) {
    audioEl.volume = 0.5; // Set between 0.0 and 1.0
}

// üîä Play a list of audio IDs
function playSound(ids) {
    ids.forEach(id => {
        const el = document.getElementById(id);
        if (el) {
            adjustVolumeDynamically(el);
            el.currentTime = 0; // restart from beginning
            el.play();
        }
    });
}





// ‚îÄ‚îÄ Shuffle Helper ‚îÄ‚îÄ
function fisherYatesShuffle(array) {
  let m = array.length, i;
  while (m) {
    i = Math.floor(Math.random() * m--);
    [array[m], array[i]] = [array[i], array[m]];
  }
  return array;
}










// ‚è∞ Schedule chimes
function scheduleSounds() {
    const now = new Date();

    // Hourly chime
    const hourlyDelay = (60 - now.getMinutes()) * 60 * 1000 - now.getSeconds() * 1000;
    setTimeout(() => {
        playSound(["hourlySou"]);
        setInterval(() => playSound(["hourlySou"]), 3600000);
    }, hourlyDelay);

    // Quarter-hour chime
    const quarterHourDelay = (15 - (now.getMinutes() % 15)) * 60 * 1000 - now.getSeconds() * 1000;
    setTimeout(() => {
        playSound(["quarterHourSou"]);
        setInterval(() => playSound(["quarterHourSou"]), 900000);
    }, quarterHourDelay);

    

// Every 25 minutes
var twentyFiveMinuteDelay = (25 - (now.getMinutes() % 25)) * 60 * 1000 - now.getSeconds() * 1000;

setTimeout(function() {
  playSound(["twentyFiveMinuteSou"]); // or rename to "twentyFiveMinuteSou" for clarity
  setInterval(() => playSound(["twentyFiveMinuteSou"]), 1500000); // 25 * 60 * 1000 = 1,500,000 ms
}, twentyFiveMinuteDelay);





// Every 35 minutes
var thirtyFiveMinuteDelay = (35 - (now.getMinutes() % 35)) * 60 * 1000 - now.getSeconds() * 1000;

setTimeout(function() {
  playSound(["thirtyFiveMinuteSou"]);
  setInterval(() => playSound(["thirtyFiveMinuteSou"]), 2100000); // 35 * 60 * 1000 = 2,100,000 ms
}, thirtyFiveMinuteDelay);


// Every 39 minutes
var thirtyNineMinuteDelay = (39 - (now.getMinutes() % 39)) * 60 * 1000 - now.getSeconds() * 1000;

setTimeout(function() {
  playSound(["thirtyNineMinuteSou"]);
  setInterval(() => playSound(["thirtyNineMinuteSou"]), 2340000); // 39 * 60 * 1000 = 2,340,000 ms
}, thirtyNineMinuteDelay);

}

// üöÄ Start when DOM is ready
    document.addEventListener("DOMContentLoaded", () => {
    // Assign audio sources
    document.getElementById("hourlySou").src = 'audio/its%20now.mp3';
    document.getElementById("quarterHourSou").src = 'audio/oldclock.mp3';
    document.getElementById("twentyFiveMinuteSou").src = 'muziek/voiceover/From%20The%20Heart%20Of%20Amsterdam2.mp3';
    document.getElementById("thirtyFiveMinuteSou").src = 'https://www.sunnyjazzradio.com/muziek/pirate%20background/Roxxjazz.mp3';
    document.getElementById("thirtyNineMinuteSou").src = 'muziek/voiceover/stoomboot2.mp3';

    scheduleSounds();
});
</script>




<script>




function generateSchedule() {
    const today = new Date();
    const schedule = {};
    const weekendDays = [5, 6, 0]; // Friday (5), Saturday (6), Sunday (0)
    
    const events = {
        5: [ // Friday
    { time: "03:00 - 12:00", "event": "Morning Jazz"},
    { time: "12:00 - 17:00", "event": "Georgies Disco Event"},
    { time: "17:00 - 21:00", "event": "Georgies Jazz Party"},
    { time: "21:00 - 03:00", "event": "Georgies Dance Party"}
  


        ],
        6: [ // Saturday
    { time: "03:00 - 12:00", "event": "Morning Jazz"},
    { time: "12:00 - 17:00", "event": "Georgies Disco Event"},
    { time: "17:00 - 21:00", "event": "Georgies Jazz Party"},
    { time: "21:00 - 03:00", "event": "Georgies Dance Party"}

        ],
        0: [ // Sunday
    { time: "03:00 - 12:00", "event": "Morning Jazz"},
    { time: "12:00 - 17:00", "event": "Georgies Disco Event"},
    { time: "17:00 - 21:00", "event": "Georgies Jazz Party"},
    { time: "21:00 - 03:00", "event": "Georgies Dance Party"}
  

        ]
    };

    for (let i = 1; i <= 7; i++) {
        let date = new Date();
        date.setDate(today.getDate() + i);
        let dayOfWeek = date.getDay();

        if (weekendDays.includes(dayOfWeek)) {
            schedule[date.toISOString().split("T")[0]] = events[dayOfWeek];
        }
    }

    return schedule;
}

// console.log("Generated Schedule:", JSON.stringify(generateSchedule(), null, 2));
// console.log("Loading track:", scheduledMp3Files[track_index].name, "-", scheduledMp3Files[track_index].artist);


</script>
<style>
  .badge {
    position: fixed;
    bottom: 1rem;
    right: 1rem;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.3rem;
    padding: 0.6rem 0.8rem;
    border-radius: 12px;
    color: #333;
    background-color: #FFB347;
    box-shadow: 0 6px 16px rgba(0,0,0,0.35);
    font: 600 14px/1.2 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto;
    width: 270px;
    z-index: 9999;
    border: solid 1px #FFD580;



}
  .badge-icon { margin-right: 0.4rem; }
  .badge-label { white-space: nowrap; }
  .progress {
    width: 100%;
    height: 6px;
    background: rgba(255,255,255,0.15);
    border-radius: 4px;
    overflow: hidden;
  }
  .progress-bar {
    height: 100%;
    width: 0%;
    background: #6ea8ff;
    transition: width 1s linear;
  }
</style>

<audio id="djIntro" preload="auto"></audio>
<audio id="musicplayer" preload="auto"></audio>

<div id="timeBadge" class="badge" aria-live="polite" aria-atomic="true">
  <span class="badge-icon">üïí</span>
  <span class="badge-label">Loading‚Ä¶</span>
  <div class="progress"><div class="progress-bar"></div></div>
</div>

<script>
// --- Shuffle helper ---
function shuffle(array) {
  if (array.length <= 1) return array;
  let m = array.length, t, i;
  while (m) {
    i = Math.floor(Math.random() * m--);
    t = array[m]; array[m] = array[i]; array[i] = t;
  }
  return array;
}

// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
//  TIME RANGES
// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî

const timeRanges = [
  { key: "morning", start: 8, end: 12 },
  { key: "afternoon", start: 12, end: 18 },
  { key: "evening", start: 18, end: 21 },
  { key: "special-show", start: 21, end: 23 },
  { key: "late", start: 23, end: 3 },   // overnight
  { key: "night", start: 3, end: 8 }
];


// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
//  CATEGORY MAPPING PER DAY
// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî

const categoriesPerDay = {
  0: { morning:["morning"], afternoon:["evening"], evening:["afternoon"], "special-show":["special-mix"], late:["morning"], night:["jingle-time"] },
  1: { morning:["morning"], afternoon:["evening"], evening:["evening"], "special-show":["evening-late"], late:["evening"], night:["morning"] },
  2: { morning:["morning"], afternoon:["evening-late"], evening:["evening-late"], "special-show":["evening"], late:["evening-late"], night:["morning"] },
  3: { morning:["morning"], afternoon:["afternoon"], evening:["morning"], "special-show":["evening-late"], late:["afternoon"], night:["morning"] },
  4: { morning:["evening"], afternoon:["evening-late"], evening:["afternoon"], "special-show":["afternoon"], late:["evening-late"], night:["morning"] },
  5: { morning:["morning"], afternoon:["afternoon"], evening:["evening-late"], "special-show":["soulful"], late:["evening"], night:["morning"] },
  6: { morning:["morning"], afternoon:["evening-late"], evening:["evening"], "special-show":["seventies"], late:["morning"], night:["jingle-time"] }
};


// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
//  VOICEOVERS
// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî

const voiceovers = {
  morning: "muziek/discjockeys/starten%20met%20Sunny.mp3",
  afternoon: "muziek/voiceover/latest%20disco%20hits%20of%20the%20eighties.mp3",
  evening: "https://danceoldies10.netlify.app/DJ%20Sapphire%20-%20Good%20Vibes.mp3",
  "evening-late": "https://danceoldies10.netlify.app/DJ%20Sapphire%20-%20Good%20Vibes.mp3",
  "seventies": "https://danceoldies10.netlify.app/Strictly%20seventies%20show.mp3",
  "jingle-time": "muziek/discjockeys/starten%20met%20Sunny.mp3",
  late: "muziek/discjockeys/DJ%20Sapphire%20finale.mp3",	
  night: "muziek/discjockeys/starten%20met%20Sunny.mp3",
  "soulful": "https://danceoldies10.netlify.app/DJ%20Sapphire%20-%20Good%20Vibes.mp3",
  "special-mix": "https://danceoldies10.netlify.app/DJ%20Sapphire%20-%20Good%20Vibes.mp3",
  unknown: "muziek/discjockeys/starten%20met%20Sunny.mp3"
  
};


// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
//  ALIASES + BADGE META
// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî

const aliases = {
  morning: ["Jazz Time!"],
  afternoon: ["Come See The Eighties Disco"],
  evening: ["Come See The Nineties Disco!"],
  "evening-late": ["Come See The Seventies Disco"],
  night: ["Moonlight Mix"],
  late: ["Come See The Nineties Disco"],
  "special-show": ["On Air"],
  "jingle-time": ["Bumper Beats"],
  soulful: ["Soulful Nights"]
};

const badgeMeta = {
  morning: { icon:"üåÖ", label:"Morning" },
  afternoon: { icon:"‚òÄÔ∏è", label:"Afternoon" },
  evening: { icon:"üåá", label:"Evening" },
  "evening-late": { icon:"üåÉ", label:"Evening Late" },
  night: { icon:"üåô", label:"Night" },
  late: { icon:"ü¶â", label:"Late" },
  "special-show": { icon:"üéõÔ∏è", label:"Special Show" },
  "jingle-time": { icon:"üîî", label:"Jingle Time" },
  soulful: { icon:"üé∑", label:"Soulful" },
  unknown: { icon:"üïí", label:"On Air" }
};


// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
//  CATEGORY ‚Üí TIMERANGE MAPPING
// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî

const categoryToRange = {
  morning: "morning",
  afternoon: "afternoon",
  evening: "evening",
  "evening-late": "evening",
  "special-show": "special-show",
  late: "late",
  night: "night",
  soulful: "evening",
  "jingle-time": "night",
  unknown: "night"
};


// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
//  HELPERS
// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî

function isInRange(hour, start, end) {
  return start < end
    ? hour >= start && hour < end
    : hour >= start || hour < end;
}

let cachedCategory = null;

function getCurrentTimeCategory() {
  const now = new Date();
  const hour = now.getHours();
  const day = now.getDay();

  let timeKey = "night";
  for (const r of timeRanges) {
    if (isInRange(hour, r.start, r.end)) {
      timeKey = r.key;
      break;
    }
  }

  if (cachedCategory && cachedCategory.timeKey === timeKey) {
    return cachedCategory.value;
  }

  const options = categoriesPerDay[day][timeKey] || ["unknown"];
  const value = options[Math.floor(Math.random() * options.length)];

  cachedCategory = { timeKey, value };
  return value;
}

function getTimeBounds(range) {
  const now = new Date();
  let start = new Date(now), end = new Date(now);

  start.setHours(range.start,0,0,0);
  end.setHours(range.end,0,0,0);

  if (range.start > range.end) {
    if (now.getHours() >= range.start) end.setDate(end.getDate()+1);
    else start.setDate(start.getDate()-1);
  }

  return { start, end };
}

function getAlias(category) {
  const list = aliases[category];
  return list ? list[Math.floor(Math.random()*list.length)] : category;
}

function fadeIn(audioEl, target = 1.0, step = 0.02, interval = 200) {
  const fade = setInterval(() => {
    audioEl.volume = Math.min(target, audioEl.volume + step);
    if (audioEl.volume >= target) clearInterval(fade);
  }, interval);
}


// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
//  BADGE UPDATE
// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî

function updateTimeBadge(categoryKey) {
  const badge = document.getElementById("timeBadge");
  if (!badge) return;

  const meta = badgeMeta[categoryKey] || badgeMeta.unknown;
  const rangeKey = categoryToRange[categoryKey] || "night";
  const range = timeRanges.find(r => r.key === rangeKey);

  const { start, end } = getTimeBounds(range);
  const now = new Date();

  const total = Math.max(1, end - start);
  const elapsed = now - start;
  const remaining = end - now;

  const hours = Math.floor(remaining / 3600000);
  const mins = Math.floor((remaining % 3600000) / 60000);

  badge.querySelector(".badge-icon").textContent = meta.icon;
  badge.querySelector(".badge-label").textContent =
    `${getAlias(categoryKey)} ¬∑ ${hours > 0 ? hours + "h " : ""}${mins}m left`;

  const percent = Math.max(0, Math.min(100, (elapsed / total) * 100));
  badge.querySelector(".progress-bar").style.width = percent + "%";
}


// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
//  PLAYBACK ENGINE
// ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî

window.addEventListener("load", () => {
  const djIntro = document.getElementById("djIntro");
  const musicplayer = document.getElementById("musicplayer");
  if (!djIntro || !musicplayer) return;

  function playIntroWithMusic(category) {
    const file = voiceovers[category] || voiceovers.unknown;

    djIntro.src = file;
    djIntro.volume = 0.9;
    musicplayer.volume = 0;

    djIntro.play().catch(err => console.warn("DJ intro failed:", err));

    djIntro.onended = () => {
      musicplayer.currentTime = 0;
      musicplayer.play().catch(err => console.warn("Musicplayer failed:", err));
      fadeIn(musicplayer, 1.0, 0.02, 200);
    };

    updateTimeBadge(category);
  }

  let currentCategory = getCurrentTimeCategory();
  playIntroWithMusic(currentCategory);

  setInterval(() => updateTimeBadge(currentCategory), 1000);

  setInterval(() => {
    const updated = getCurrentTimeCategory();
    if (updated !== currentCategory) {
      console.log(`‚è∞ Transition: ${currentCategory} ‚Üí ${updated}`);
      currentCategory = updated;
      playIntroWithMusic(updated);
    }
  }, 5000); // smoother transitions
});










function wasPlayedRecently(track, days = 1) {
  const key = `lastPlayed_${track.id}`;
  const lastPlayed = localStorage.getItem(key);
  if (!lastPlayed) return false;

  const last = new Date(lastPlayed);
  const now = new Date();
  const diffDays = (now - last) / (1000 * 60 * 60 * 24);
  return diffDays <= days;
}

function buildDailyPlaylist(allTracks, days = 1) {
  return allTracks.filter(track => !wasPlayedRecently(track, days));
}

function pickNextTrack(allTracks) {
  // Step 0: decide shuffle mode based on time of day
  const mode = getShuffleMode();

  // Step 1: filter out recently played
  const eligible = buildDailyPlaylist(allTracks, 1);
  if (eligible.length === 0) {
    console.warn("No eligible tracks ‚Äî falling back to full list");
    return weightedPick(allTracks, mode);
  }

  // Step 2: weighted pick from eligible pool
  const chosen = weightedPick(eligible, mode);

  // Step 3: mark as played
  markPlayed(chosen);

  return chosen;
}









// --- Mood logic ---
function getShuffleMode() {
  const hour = new Date().getHours();

  if (hour >= 6 && hour < 12) {
    return "balancedBias";   // morning: smooth and fair
  } else if (hour >= 12 && hour < 18) {
    return "crowdPleaser";   // afternoon: familiar energy
  } else if (hour >= 18 && hour < 22) {
    return "deepCrateDig";   // evening: dig into rarities
  } else {
    return "balancedBias";   // late night: calm balance
  }
}

// --- Fade helper ---
function fadeIn(audio, targetVolume, step, interval) {
  let vol = audio.volume;
  const fade = setInterval(() => {
    vol = Math.min(vol + step, targetVolume);
    audio.volume = vol;
    if (vol >= targetVolume) clearInterval(fade);
  }, interval);
}

// --- Main intro + overlap logic ---
function playIntroWithOverlap(file) {
  const djIntro = document.getElementById('djIntro');
  const djPlayer = document.getElementById('djPlayer');

  djIntro.src = file;
  djIntro.currentTime = 0;
  djIntro.volume = 0.9;
  djPlayer.volume = 0;

  // Delay intro playback by 4 seconds
  setTimeout(() => {
    djIntro.play().then(() => {
      djIntro.addEventListener('timeupdate', function overlapHandler() {
        if (djIntro.duration && djIntro.currentTime >= djIntro.duration - 3) {
          djIntro.removeEventListener('timeupdate', overlapHandler);

          // Pick shuffle mode automatically
          const mode = getShuffleMode();
          const nextTrack = weightedPick(scheduledMp3Files, mode);
          console.log("üé∂ Mode:", mode, "‚Üí", nextTrack.name, "playcount:", nextTrack.playcount);

          nextTrack.playcount++;

          djPlayer.src = nextTrack.url;
          djPlayer.play()
            .then(() => fadeIn(djPlayer, 0.9, 0.05, 200))
            .catch(err => console.warn("Music failed:", err));
        }
      });
    }).catch(err => console.warn("Intro failed:", err));
  }, 4000);
}
</script>




<script>
window.onscroll = function() {myFunction()};

var header = document.getElementById("myHeader");
var sticky = header.offsetTop;

function myFunction() {
  if (window.pageYOffset > sticky) {
    header.classList.add("sticky");
  } else {
    header.classList.remove("sticky");
  }
}
</script>





<script src= "snowflake.js"> </script>
<script src= "main4.js"> </script>



</body>
</html>
